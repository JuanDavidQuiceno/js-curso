const miModulo = (() => { "use strict"; let e = [], t = ["C", "D", "H", "S"], a = ["A", "J", "Q", "K"], r = [], l = document.querySelector("#btnPedir"), n = document.querySelector("#btnDetener"); document.querySelector("#btnNuevo"); let o = document.querySelectorAll(".divCartas"), s = document.querySelectorAll("small"), d = (t = 2) => { e = u(), r = []; for (let a = 0; a < t; a++)r.push(0); s.forEach(e => e.innerText = 0), o.forEach(e => e.innerHTML = ""), l.disabled = !1, n.disabled = !1 }, u = () => { e = []; for (let r = 2; r <= 10; r++)for (let l of t) e.push(r + l); for (let n of t) for (let o of a) e.push(o + n); return console.log(e), _.shuffle(e) }, i = () => { if (0 === e.length) throw "No hay cartas en el deck"; return e.pop() }, c = e => { let t = e.substring(0, e.length - 1); return console.log("valorCarta", t), isNaN(t) ? "A" === t ? 11 : 10 : 1 * t }, $ = (e, t) => (console.log("acumularPuntos carta", e), console.log("acumularPuntos turno", t), r[t] = r[t] + c(e), s[t].innerText = r[t] + " puntos", r[t]), g = (e, t) => { let a = document.createElement("img"); a.src = `assets/cartas/${e}.png`, a.classList.add("carta"), o[t].append(a) }, f = () => { let [e, t] = r; setTimeout(() => { t === e ? alert("Nadie gana :(") : e > 21 ? alert("Computadora gana") : t > 21 ? alert("Jugador gana") : alert("Computadora gana") }, 100) }, h = e => { let t = 0; do { let a = i(); t = $(a, r.length - 1), g(a, r.length - 1) } while (t < e && e <= 21); f() }; return l.addEventListener("click", () => { let e = i(), t = $(e, 0); g(e, 0), t > 21 ? (console.warn("Perdiste"), l.disabled = !0, n.disabled = !0, h(t)) : 21 === t && (console.warn("21, genial"), l.disabled = !0, n.disabled = !0, h(t)) }), n.addEventListener("click", () => { l.disabled = !0, n.disabled = !0, h(r[0]) }), { nuevoJuego: d } })();